<?xml version="1.0" encoding="utf-8"?>
<Project DefaultTargets="Build" ToolsVersion="4.0" xmlns="http://schemas.microsoft.com/developer/msbuild/2003">
  <PropertyGroup>
    <Configuration Condition=" '$(Configuration)' == '' ">Debug</Configuration>
    <Platform Condition=" '$(Platform)' == '' ">AnyCPU</Platform>
    <ProjectGuid>{0E79BC8D-9AE4-4B2C-ACFB-D8C1B2BC3D4F}</ProjectGuid>
    <OutputType>Exe</OutputType>
    <RootNamespace>LfMerge</RootNamespace>
    <AssemblyName>LfMerge</AssemblyName>
    <TargetFrameworkVersion>v4.5</TargetFrameworkVersion>
  </PropertyGroup>
  <PropertyGroup Condition=" '$(Configuration)|$(Platform)' == 'Debug|AnyCPU' ">
    <DebugSymbols>true</DebugSymbols>
    <DebugType>full</DebugType>
    <Optimize>false</Optimize>
    <OutputPath>..\..\output\Debug</OutputPath>
    <DefineConstants>DEBUG;FW8_COMPAT</DefineConstants>
    <ErrorReport>prompt</ErrorReport>
    <WarningLevel>4</WarningLevel>
    <ConsolePause>false</ConsolePause>
    <PlatformTarget>x86</PlatformTarget>
  </PropertyGroup>
  <PropertyGroup Condition=" '$(Configuration)|$(Platform)' == 'Release|AnyCPU' ">
    <DebugType>full</DebugType>
    <Optimize>true</Optimize>
    <OutputPath>..\..\output\Release</OutputPath>
    <ErrorReport>prompt</ErrorReport>
    <WarningLevel>4</WarningLevel>
    <Externalconsole>true</Externalconsole>
    <DebugSymbols>true</DebugSymbols>
    <DefineConstants>FW8_COMPAT</DefineConstants>
    <PlatformTarget>x86</PlatformTarget>
  </PropertyGroup>
  <ItemGroup>
    <Reference Include="System" />
    <Reference Include="CommandLine">
      <HintPath>..\..\packages\CommandLineParser.1.9.71\lib\net45\CommandLine.dll</HintPath>
    </Reference>
    <Reference Include="Autofac">
      <HintPath>..\..\packages\Autofac.3.5.2\lib\net40\Autofac.dll</HintPath>
    </Reference>
    <Reference Include="FDO">
      <Package>lfmerge-fdo</Package>
    </Reference>
    <Reference Include="BasicUtils">
      <Package>lfmerge-fdo</Package>
    </Reference>
    <Reference Include="COMInterfaces">
      <Package>lfmerge-fdo</Package>
    </Reference>
    <Reference Include="CoreImpl">
      <Package>lfmerge-fdo</Package>
    </Reference>
    <Reference Include="Newtonsoft.Json">
      <HintPath>..\..\packages\Newtonsoft.Json.8.0.2\lib\net45\Newtonsoft.Json.dll</HintPath>
    </Reference>
    <Reference Include="MongoDB.Bson">
      <HintPath>..\..\packages\MongoDB.Bson.2.2.1\lib\net45\MongoDB.Bson.dll</HintPath>
    </Reference>
    <Reference Include="MongoDB.Driver.Core">
      <HintPath>..\..\packages\MongoDB.Driver.Core.2.2.1\lib\net45\MongoDB.Driver.Core.dll</HintPath>
    </Reference>
    <Reference Include="MongoDB.Driver">
      <HintPath>..\..\packages\MongoDB.Driver.2.2.1\lib\net45\MongoDB.Driver.dll</HintPath>
    </Reference>
    <Reference Include="System.Xml" />
    <Reference Include="INIFileParser">
      <HintPath>..\..\packages\ini-parser.2.2.4\lib\net20\INIFileParser.dll</HintPath>
    </Reference>
    <Reference Include="Microsoft.Practices.ServiceLocation, Version=1.0.0.0, Culture=neutral">
      <Package>lfmerge-fdo</Package>
    </Reference>
    <Reference Include="SIL.Linux.Logging" Condition="'$(OS)'!='Windows_NT'">
      <HintPath>..\..\lib\SIL.Linux.Logging.dll</HintPath>
    </Reference>
    <Reference Include="Palaso">
      <HintPath>..\..\lib\Palaso.dll</HintPath>
    </Reference>
    <Reference Include="LfMergeBridge">
      <HintPath>..\..\lib\LfMergeBridge.dll</HintPath>
    </Reference>
  </ItemGroup>
  <ItemGroup>
    <Compile Include="Program.cs" />
    <Compile Include="Properties\AssemblyInfo.cs" />
    <Compile Include="ProcessingState.cs" />
    <Compile Include="Options.cs" />
    <Compile Include="Queues\IQueue.cs" />
    <Compile Include="Queues\Queue.cs" />
    <Compile Include="Queues\QueueNames.cs" />
    <Compile Include="FieldWorks\FwProject.cs" />
    <Compile Include="FieldWorks\ProjectIdentifier.cs" />
    <Compile Include="FieldWorks\ThreadedProgress.cs" />
    <Compile Include="FieldWorks\ConsoleFdoUi.cs" />
    <Compile Include="LanguageForgeProject.cs" />
    <Compile Include="ILfProject.cs" />
    <Compile Include="Actions\ActionNames.cs" />
    <Compile Include="Actions\IAction.cs" />
    <Compile Include="Actions\Action.cs" />
    <Compile Include="Actions\CommitAction.cs" />
    <Compile Include="Actions\NoneAction.cs" />
    <Compile Include="LanguageDepotProject.cs" />
    <Compile Include="ILanguageDepotProject.cs" />
    <Compile Include="BidirectionalDictionary.cs" />
    <Compile Include="IProcessingStateDeserialize.cs" />
    <Compile Include="MongoConnector\MongoConnection.cs" />
    <Compile Include="MongoConnector\MongoProjectRecord.cs" />
    <Compile Include="MongoConnector\MongoCursorEnumerableExtensions.cs" />
    <Compile Include="LanguageForge\Config\ILfProjectConfig.cs" />
    <Compile Include="LanguageForge\Config\LfProjectConfig.cs" />
    <Compile Include="LanguageForge\Config\LfConfigFieldBase.cs" />
    <Compile Include="LanguageForge\Config\LfConfigMultiText.cs" />
    <Compile Include="LanguageForge\Config\LfConfigFieldList.cs" />
    <Compile Include="LanguageForge\Config\LfConfigOptionList.cs" />
    <Compile Include="LanguageForge\Config\LfConfigMultiOptionList.cs" />
    <Compile Include="LanguageForge\Config\LfConfigPictures.cs" />
    <Compile Include="LanguageForge\Config\LfFieldTypeMapper.cs" />
    <Compile Include="LanguageForge\Config\LfConfigFieldTypeNames.cs" />
    <Compile Include="LanguageForge\Config\LfConfigFieldTypeMapper.cs" />
    <Compile Include="LanguageForge\Config\MongoRegistrarForLfConfig.cs" />
    <Compile Include="MongoConnector\MongoRegistrar.cs" />
    <Compile Include="LanguageForge\Model\LfLexEntry.cs" />
    <Compile Include="LanguageForge\Model\LfMultiText.cs" />
    <Compile Include="LanguageForge\Model\LfStringField.cs" />
    <Compile Include="LanguageForge\Model\LfSense.cs" />
    <Compile Include="LanguageForge\Model\LfStringArrayField.cs" />
    <Compile Include="LanguageForge\Model\LfAuthorInfo.cs" />
    <Compile Include="LanguageForge\Model\LfPicture.cs" />
    <Compile Include="LanguageForge\Model\LfExample.cs" />
    <Compile Include="LanguageForge\Model\LfFieldBase.cs" />
    <Compile Include="LanguageForge\Model\MongoRegistrarForLfFields.cs" />
    <Compile Include="LanguageForge\Model\CustomMongoSerializerForBoolean.cs" />
    <Compile Include="MongoConnector\MongoProjectRecordFactory.cs" />
    <Compile Include="MongoConnector\IMongoConnection.cs" />
    <Compile Include="FieldWorks\PartOfSpeechMasterList.cs" />
    <Compile Include="Settings\LfMergeSettingsIni.cs" />
    <Compile Include="Settings\DefaultLfMergeSettings.cs" />
    <Compile Include="Logging\ILogger.cs" />
    <Compile Include="Logging\SyslogLogger.cs" />
    <Compile Include="Logging\LogSeverity.cs" />
    <Compile Include="Logging\LoggerBase.cs" />
    <Compile Include="LanguageForge\Model\LfOptionList.cs" />
    <Compile Include="LanguageForge\Model\LfOptionListItem.cs" />
    <Compile Include="MagicStrings.cs" />
    <Compile Include="Actions\SynchronizeAction.cs" />
    <Compile Include="Actions\EditAction.cs" />
    <Compile Include="LanguageForge\Model\LfProject.cs" />
    <Compile Include="LanguageForge\Model\LfInputSystemRecord.cs" />
    <Compile Include="Actions\TransferMongoToFdoAction.cs" />
    <Compile Include="Actions\TransferFdoToMongoAction.cs" />
    <Compile Include="DataConverters\ConvertFdoToMongoCustomField.cs" />
    <Compile Include="DataConverters\ConvertMongoToFdoCustomField.cs" />
    <Compile Include="DataConverters\ConvertFdoToMongoOptionList.cs" />
    <Compile Include="DataConverters\ConvertFdoToMongoTsStrings.cs" />
    <Compile Include="DataConverters\ConvertMongoToFdoPartsOfSpeech.cs" />
    <Compile Include="DataConverters\ConvertFdoToMongoPartsOfSpeech.cs" />
    <Compile Include="DataConverters\ConvertFdoToMongoLexicon.cs" />
    <Compile Include="DataConverters\ConvertMongoToFdoLexicon.cs" />
    <Compile Include="Logging\NullLogger.cs" />
    <Compile Include="DataConverters\ConvertUtilities.cs" />
    <Compile Include="DataConverters\ConvertMongoToFdoOptionList.cs" />
    <Compile Include="LanguageForge\Model\IHasNullableGuid.cs" />
    <Compile Include="Actions\Infrastructure\ChorusHelper.cs" />
    <Compile Include="Logging\SyslogProgress.cs" />
    <Compile Include="LanguageForge\Model\LfParagraph.cs" />
    <Compile Include="LanguageForge\Model\LfMultiParagraph.cs" />
    <Compile Include="LanguageForge\Infrastructure\PhpConnection.cs" />
    <Compile Include="LanguageForge\Infrastructure\RunClassParameters.cs" />
    <Compile Include="LanguageForge\Infrastructure\CustomFieldSpec.cs" />
    <Compile Include="DataConverters\CanonicalSources\CanonicalOptionListSource.cs" />
    <Compile Include="DataConverters\CanonicalSources\CanonicalPartOfSpeechSource.cs" />
    <Compile Include="DataConverters\CanonicalSources\CanonicalSemanticDomainSource.cs" />
    <Compile Include="DataConverters\CanonicalSources\CanonicalItem.cs" />
    <Compile Include="DataConverters\CanonicalSources\CanonicalPartOfSpeechItem.cs" />
    <Compile Include="DataConverters\CanonicalSources\CanonicalSemanticDomainItem.cs" />
    <Compile Include="Actions\EnsureCloneAction.cs" />
    <Compile Include="Actions\Infrastructure\LfMergeBridgeServices.cs" />
  </ItemGroup>
  <Import Project="$(MSBuildBinPath)\Microsoft.CSharp.targets" />
  <Import Project="..\..\packages\BuildDependencyTasks.0.2.6.0\build\BuildDependencyTasks.targets" Condition="Exists('..\..\packages\BuildDependencyTasks.0.2.6.0\build\BuildDependencyTasks.targets')" />
  <ItemGroup>
    <None Include="packages.config" />
    <None Include="..\..\lib\icu.net.dll.config" Condition="'$(OS)'!='Windows_NT'">
      <Link>icu.net.dll.config</Link>
      <CopyToOutputDirectory>PreserveNewest</CopyToOutputDirectory>
    </None>
    <None Include="..\..\lib\chorusmerge">
      <Link>chorusmerge</Link>
      <CopyToOutputDirectory>PreserveNewest</CopyToOutputDirectory>
    </None>
  </ItemGroup>
  <ItemGroup>
    <Folder Include="Queues\" />
    <Folder Include="FieldWorks\" />
    <Folder Include="Actions\" />
    <Folder Include="MongoConnector\" />
    <Folder Include="LanguageForge\" />
    <Folder Include="LanguageForge\Config\" />
    <Folder Include="LanguageForge\Model\" />
    <Folder Include="DataConverters\" />
    <Folder Include="Settings\" />
    <Folder Include="Logging\" />
    <Folder Include="Actions\Infrastructure\" />
    <Folder Include="LanguageForge\Infrastructure\" />
    <Folder Include="DataConverters\CanonicalSources\" />
  </ItemGroup>
  <ItemGroup>
    <EmbeddedResource Include="..\..\data\parts-of-speech\GOLDEtic.xml">
      <Link>GOLDEtic.xml</Link>
      <LogicalName>GOLDEtic.xml</LogicalName>
    </EmbeddedResource>
    <EmbeddedResource Include="..\..\data\semantic-domains\SemDom.xml">
      <Link>SemDom.xml</Link>
      <LogicalName>SemDom.xml</LogicalName>
    </EmbeddedResource>
  </ItemGroup>
  <Target Name="AfterBuild">
    <!-- Copy .mdb files for all files into output directory as well as ChorusMerge.exe. Although
    we don't have direct dependencies on Chorus we still need to copy ChorusMerge in order for
    LfMergeBridge to work properly. -->
    <ItemGroup>
      <FilesInOutput Include="$(OutputPath)/*.*" />
      <FilesToCopy Include="@(FilesInOutput-&gt;'../../lib/%(Filename)%(Extension).mdb')" Condition="Exists('../../lib/%(Filename)%(Extension).mdb')" />
      <FilesToCopy Include="../../lib/ChorusMerge.exe*" />
      <FilesToCopy Include="../../lib/LibChorus.dll*" />
    </ItemGroup>
    <Copy SourceFiles="@(FilesToCopy)" DestinationFolder="$(OutputPath)" SkipUnchangedFiles="true" OverwriteReadOnlyFiles="true" />
  </Target>
</Project>
